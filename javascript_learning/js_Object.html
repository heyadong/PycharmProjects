<!DOCTYPE html>
<!--suppress ALL -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>创建JS对象</title>
</head>
<body>
<p>创建对象</p>
<p id="demo1"></p>
<p>
    访问对象的属性方法可以使用person.或者person['name']
    对象的属性之间一定要用逗号隔开;
    对象的方法定义了一个函数，并作为对象的属性存储。
    对象方法通过添加 () 调用 (作为一个函数)。
    对象存在两个相同属性的变量时以最后赋值的为准
</p>
<h1>笔记</h1>
<h3>
    1、全局的Javascript变量，在函数外声明的变量，网页上的所有Javascript都能访问
    2、局部变量：函数内声明的变量（var)
    3、局部变量没有声明就被赋值，将变成一个全局变量
</h3>
<hr>
<h3>全选与取消全选的JS</h3>
看书：<input type="checkbox" name="checkbox" value="1"><br>
写代码：<input type="checkbox" name="checkbox" value="2"><br>
学英语：<input type="checkbox" name="checkbox" value="3"><br>
<button onclick="check_All('checkbox')">全选</button>
<button onclick="drop_all('checkbox')">取消全选</button>
<button onclick="check('checkbox')">全选/取消</button>
<hr>
<h3>2.JS作用域</h3>
<p>作用域是可访问变量，对象(object)，函数(function)的集合<br></p>
<p>在 ES6 中，提供了 let 关键字和 const 关键字。 <br>
    let 的声明方式与 var 相同，用 let 来代替 var 来声明变量，就可以把变量限制在当前代码块中。<br>
使用 const 声明的是常量，其值一旦被设定便不可被更改</p>
<br>
<hr>
<h3>3.JavaScript 事件</h3>
<p>html事件：<br>
    1.页面加载时，<br>
    2.页面元素被点击时：<button onclick="this.innerHTML=Date()">现在时间是：</button>
    <button onmouseover="alert(Date())">鼠标移动到这里可以显示时间</button>
    <br>
    3.input字段改变时<br>
</p>
<p id="d5"></p><button onclick="display_time()">时间显示</button><br>
html事件列表：<br>
<li> onchange	HTML 元素改变</li>
<li> onclick	用户点击 HTML 元素</li>
<li> onmouseover	用户在一个HTML元素上移动鼠标</li>
<li> onmouseout	用户从一个HTML元素上移开鼠标</li>
<li> onkeydown	用户按下键盘按键</li>
<li> onload	浏览器已完成页面的加载</li>
<p>JS的计时事件:<br>
setInterval() - 间隔指定的毫秒数不停地执行指定的代码。<br>
setTimeout() - 暂停指定的毫秒数后执行指定的代码<br></p>
example:
<form>
    <input type="button" value="按下按钮后计时" onclick="set_time()">
    <input type="text" id="t1">
    <input type="button" onclick="clear_time()" value="清除计时">
</form>
<form>
   请输入计时时间： <input type="text" id="t2" required="required">
    <input type="button" value="开始计时" onclick="time1()">
    <input type="button" value=" 暂停" id="t3" onclick="pass_time()">
</form>
<hr>text
<h3>JS的逻辑运算符和比较运算符</h3>
<p>逻辑运算符：&&(and),||(or) !(not)</p><br>
<p>条件运算符(condition)?value1:value2</p><br>
<input id="demo8" type="text"><button onclick="check_age()">检查</button>
<hr>
<h3>JS循环语句</h3>
<p>for(x in object)循环遍历对象的属性和数字的<br>
for(let [key,value] of object)循环遍历对象的属性和数字的<br>
while循环和do{}while循环与JAVA用法一致。<br>
    break 用于跳出循环，cotinue执行下一次循环.<br>
</p>
<p>Switch用法示例：</p>
<input id="demo9" type="text"><button onclick="testSwich()">测试</button>
<hr>
<h3>JS类型转换</h3>
<p>1、将数字转化成字符串：<br>
    1、String(100),String(100+20)<br>
    2、var x=10;x.toString,(100+20).toString()<br>
</p><br>
<p>2、将布尔值转化成字符串：String(false) = "false"</p><br>
<p>3、字符串转化成数字:<br>
    1、Number("3.14") //3.14<br>
    2、Number("") // 0 <br>
    3、Number("99 88") // NaN<br>
    4、parseInt()/parseFloat() 解析一个字符串并返回一个整数/浮点数
</p>
<hr>
<h3>
JS 的异常处理 (try, catch(err))(throw)
</h3>
<p>异常测试<br>
用法：try{},catch(err){}<br>
    throw err
</p>
<input id="d1" type="text"><button onclick="test_Try()">测试</button><br>
<p id="d2"></p>
<hr>
<h3>JS的表单验证</h3>
<form  name="my_form" onsubmit="return check_form()" action="js_Object.html" method="post">
    <tr>名字：</tr>
    <tr><input type="text" name="fname"></tr>
    <tr><input type="button" value="提交"></tr>
</form>
<script>
    function check_form() {
        var name = document.forms['my_form']['fname'].value;
        if(name==null||name==''){
            window.alert('名字必需填写');
            return false;
        }
    }
    function check_All(id_name) {
        var object_list = document.getElementsByName(id_name);
        console.log(object_list)
        for(var i=0;i<object_list.length;i++){
            object_list[i].checked = true
        }
    }
    function drop_all(id_name) {
        var ob_list = document.getElementsByName(id_name)
        for(var i=0;i<ob_list.length;i++){
            ob_list[i].checked = ""
        }
    };
    var checked = false
    function check(id_name) {
        checked = !checked;
        check_list =document.getElementsByName(id_name)
        for(var i=0;i<check_list.length;i++){
            check_list[i].checked=checked;
        }
    };
    function check_age() {
       var age = document.getElementById('demo8').value;
       //条件表达式应用(嵌套）
       var str = (age>18)?"已成年":(age==18)?"将要成年":"未成年";
       window.alert(str)
    };
    var person = {
        firstName: 'he',
        lastName: 'yadong',
        age: 18,
        fullName:function ()
        {
            return this.firstName+" "+this.lastName
        },
    };
    document.getElementById('demo1').innerHTML = person.fullName()+" age is "+person.age;
    //for循环示例
    var obj = {name:'xiaohe',age:'18',sex:'male'};
    var map_1 = new Map([['a',1],['b',2],['c',3]]);
    for(let key in obj){
        console.log(key);
        console.log(obj[key]);
    }
    for(let entry of map_1){
        console.log(entry)
    };
    function testSwich() {
        let v = document.getElementById('demo9').value;
        v = parseInt(v);
        switch(v){
            case 1:
                alert('数字1');
                break;
            case 10:
            case 11:
                alert('数字11和数字10');
                break;
            default:
                alert("不是10,1,11")
                break
    }
    };
    outerloop:
for (var i = 0; i < 10; i++)
{
    innerloop:
        for (var j = 0; j < 10; j++)
        {
        if (j > 3)
        {
            break;
        }
        if (i == 2)
        {
            break innerloop;
        }
        if (i == 4)
        {
            break outerloop;
        }
        document.write("i=" + i + " j=" + j + ""+'<br>');
    }
}
//ajax示例
    function ajaxDemo(){
        var xmlhttp;
        if(window.XMLHttpRequest){
            xmlhttp = new XMLHttpRequest()
        }
        else{
            xmlhttp = new ActiveXObject()
        }
    }
    // 自定义异常测试
    function test_Try() {
        var v = document.getElementById('d1').value
        console.log(v)
        try{
            if(v=='') throw "请输入5-10之间的数字";
            if(v>=5&&v<=10) throw '输入的数字是'+v;
            if(v<5) throw '太小了';
            if(v>10) throw '太大了';
            if(isNaN(v)) throw "请输入数字"
        }
        catch(err) {
            document.getElementById('d2').innerHTML= '错误：'+ err
        }
    }
    function display_time() {
        var times = new Date();
        var year = times.getFullYear();//获取4位数年份
        console.log(year)
        var date = times.getMonth();//获取月份
        var day = times.getDate();//获取日
        var hours = times.getHours()
        var minutes = times.getMinutes()
        var seconds =times.getSeconds()
        if (minutes<10&&seconds<10){
            time_text = year+'-'+date+'-'+day +"  "+hours+":"+0+minutes+":"+0+seconds;
        }else if(minutes<10){
            time_text = year+'-'+date+'-'+day +"  "+hours+":"+0+minutes+":"+seconds;
        }else if(minutes>=10&&seconds<10){
            time_text = year+'-'+date+'-'+day +"  "+hours+":"+minutes+":"+0+seconds;
        }else{
            time_text = year+'-'+date+'-'+day +"  "+hours+":"+minutes+":"+seconds;
        }
        document.getElementById('d5').innerHTML = time_text;
    }
    //执行定时任务setInterval()
    //清除定时任务clearInterval()暂停定时任务
    myVar = setInterval(function(){display_time()},2000);
    function set_time() {
        var x = document.getElementById('t1')
        set_times=''
        set_times = setTimeout(function () { x.value="2 seconds"},2000);
        set_times = setTimeout(function () { x.value="4 seconds"},4000);
        set_times = setTimeout(function () { x.value="6 seconds"},6000);
        }
    function clear_time() {
        clearInterval(set_times) //注意当set_times是全局变量是有效
    }
    function time1() {
        let mytimes = document.getElementById('t2').value;
        b = Number(mytimes);
        conunts = ''
        console.log(b)
        for(let i=0;i<b;i++) {
            console.log(i);
            counts = setTimeout(function () {document.getElementById('t2').value = b - i - 1},1000 * (i + 1))
        }
    }
    var key1 = false;
    function pass_time() {
        button_name = document.getElementById('t3').value;
        key1 = !key1;
        if(key1) {
            clearInterval(counts);
            document.getElementById('t3').value = "继续";
        }
        else {
            time1();
            document.getElementById('t3').value = "暂停";
        }
    }
</script>
</body>
</html>